datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Account{
    id          Int @id @default(autoincrement())
    firstName   String
    lastName    String
    email       String @unique
    contactNumber String
    hashedPassword String
    isActive   Boolean
    verified    Boolean
    userRoles   Int[]

    organizationId Int
    organization   Organization  @relation(fields: [organizationId], references: [id])

    
    resetPasswordHash String?
    resetPasswordHashExpiry DateTime?

    confirmEmailHash String?
    confirmEmailHashExpiry DateTime?

    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}

model Organization{
    id          Int @id @default(autoincrement())
    name        String
    description String?
    approved Boolean @default(false)

    accounts Account[]

    createdAt DateTime @default(now())
    updatedAt DateTime @default(now())
}